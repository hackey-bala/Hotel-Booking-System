{"ast":null,"code":"import axios from\"axios\";import{useParams}from\"react-router-dom\";import{useState,useEffect}from\"react\";import PaymentUpload from\"./PaymentUpload\";import API_BASE_URL from\"../config\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Booking(){const{id}=useParams();const[room,setRoom]=useState(null);const[customerName,setName]=useState(\"\");const[checkIn,setCheckIn]=useState(\"\");const[checkOut,setCheckOut]=useState(\"\");const[bookingId,setBookingId]=useState(null);useEffect(()=>{axios.get(\"\".concat(API_BASE_URL,\"/rooms\")).then(res=>{const r=res.data.find(x=>x.id==id);setRoom(r);});},[]);function book(){if(!customerName||!checkIn||!checkOut)return alert(\"Fill all details\");axios.post(\"\".concat(API_BASE_URL,\"/book\"),{customerName,roomId:id,checkIn,checkOut,userId:localStorage.getItem(\"userId\")}).then(res=>{alert(\"Booking Created, Now Upload Payment Screenshot\");setBookingId(res.data.bookingId);});}if(!room)return/*#__PURE__*/_jsx(\"h3\",{className:\"text-center mt-5\",children:\"Loading Room...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Book Room\"}),/*#__PURE__*/_jsx(\"h4\",{children:room.name}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"\\u20B9\",room.price]}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mt-2\",placeholder:\"Your Name\",onChange:e=>setName(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-3\",children:\"Check In\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",onChange:e=>setCheckIn(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-3\",children:\"Check Out\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",onChange:e=>setCheckOut(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success mt-3 w-100\",onClick:book,children:\"Confirm Booking\"}),bookingId&&/*#__PURE__*/_jsx(PaymentUpload,{bookingId:bookingId})]});}","map":{"version":3,"names":["axios","useParams","useState","useEffect","PaymentUpload","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","Booking","id","room","setRoom","customerName","setName","checkIn","setCheckIn","checkOut","setCheckOut","bookingId","setBookingId","get","concat","then","res","r","data","find","x","book","alert","post","roomId","userId","localStorage","getItem","className","children","name","price","placeholder","onChange","e","target","value","type","onClick"],"sources":["C:/Users/Balaji S/OneDrive/Desktop/Hotel Management/hotel-frontend/src/pages/Booking.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport PaymentUpload from \"./PaymentUpload\";\r\nimport API_BASE_URL from \"../config\";\r\nexport default function Booking() {\r\n\r\n  const { id } = useParams();\r\n  const [room, setRoom] = useState(null);\r\n  const [customerName, setName] = useState(\"\");\r\n  const [checkIn, setCheckIn] = useState(\"\");\r\n  const [checkOut, setCheckOut] = useState(\"\");\r\n  const [bookingId, setBookingId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios.get(`${API_BASE_URL}/rooms`)\r\n      .then(res => {\r\n        const r = res.data.find(x => x.id == id);\r\n        setRoom(r);\r\n      })\r\n  }, []);\r\n\r\n  function book() {\r\n\r\n    if (!customerName || !checkIn || !checkOut)\r\n      return alert(\"Fill all details\");\r\n\r\n    axios.post(`${API_BASE_URL}/book`, {\r\n      customerName,\r\n      roomId: id,\r\n      checkIn,\r\n      checkOut,\r\n      userId: localStorage.getItem(\"userId\")\r\n    })\r\n      .then(res => {\r\n        alert(\"Booking Created, Now Upload Payment Screenshot\");\r\n        setBookingId(res.data.bookingId);\r\n      })\r\n  }\r\n\r\n  if (!room) return <h3 className=\"text-center mt-5\">Loading Room...</h3>;\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h2>Book Room</h2>\r\n\r\n      <h4>{room.name}</h4>\r\n      <h5>â‚¹{room.price}</h5>\r\n\r\n      <input\r\n        className=\"form-control mt-2\"\r\n        placeholder=\"Your Name\"\r\n        onChange={(e) => setName(e.target.value)}\r\n      />\r\n\r\n      <label className=\"mt-3\">Check In</label>\r\n      <input type=\"date\" className=\"form-control\"\r\n        onChange={(e) => setCheckIn(e.target.value)}\r\n      />\r\n\r\n      <label className=\"mt-3\">Check Out</label>\r\n      <input type=\"date\" className=\"form-control\"\r\n        onChange={(e) => setCheckOut(e.target.value)}\r\n      />\r\n\r\n      <button className=\"btn btn-success mt-3 w-100\"\r\n        onClick={book}>\r\n        Confirm Booking\r\n      </button>\r\n\r\n      {/* PAYMENT UPLOAD SECTION */}\r\n      {bookingId && (\r\n        <PaymentUpload bookingId={bookingId} />\r\n      )}\r\n\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
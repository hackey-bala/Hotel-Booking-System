{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import API_BASE_URL from\"../config\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Rooms(){const[rooms,setRooms]=useState([]);const[search,setSearch]=useState(\"\");const[min,setMin]=useState(\"\");const[max,setMax]=useState(\"\");const token=localStorage.getItem(\"userToken\");// LOAD ROOMS\nconst loadRooms=()=>{axios.get(\"\".concat(API_BASE_URL,\"/rooms\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>setRooms(res.data)).catch(err=>console.log(err));};useEffect(()=>{loadRooms();},[]);// FILTER\nconst filterRooms=()=>{axios.get(\"\".concat(API_BASE_URL,\"/filter-rooms\"),{params:{search,min,max},headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>setRooms(res.data)).catch(err=>console.log(err));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Available Rooms\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",placeholder:\"Search room...\",value:search,onChange:e=>setSearch(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"number\",placeholder:\"Min Price\",value:min,onChange:e=>setMin(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"number\",placeholder:\"Max Price\",value:max,onChange:e=>setMax(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary w-100\",onClick:filterRooms,children:\"Filter\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary w-100\",onClick:loadRooms,children:\"Reset\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[rooms.length===0&&/*#__PURE__*/_jsx(\"h4\",{className:\"text-center text-danger\",children:\"No rooms found\"}),rooms.map(r=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow\",children:[r.image&&/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(API_BASE_URL,\"/uploads/\").concat(r.image),className:\"card-img-top\",height:\"200\",alt:\"room\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{children:r.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Price:\"}),\" \\u20B9\",r.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Capacity:\"}),\" \",r.capacity,\" persons\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(r.available?\"bg-success\":\"bg-danger\"),children:r.available?\"Available\":\"Not Available\"}),/*#__PURE__*/_jsx(\"br\",{}),r.available?/*#__PURE__*/_jsx(Link,{to:\"/book/\".concat(r.id),className:\"btn btn-primary w-100 mt-2\",children:\"Book Now\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary w-100 mt-2\",disabled:true,children:\"Not Available\"})]})]})},r.id))]})]});}","map":{"version":3,"names":["axios","useEffect","useState","Link","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","Rooms","rooms","setRooms","search","setSearch","min","setMin","max","setMax","token","localStorage","getItem","loadRooms","get","concat","headers","Authorization","then","res","data","catch","err","console","log","filterRooms","params","className","children","placeholder","value","onChange","e","target","type","onClick","length","map","r","image","src","height","alt","name","price","capacity","available","to","id","disabled"],"sources":["C:/Users/Balaji S/OneDrive/Desktop/Hotel Management/hotel-frontend/src/pages/Rooms.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport API_BASE_URL from \"../config\";\r\nexport default function Rooms() {\r\n\r\n  const [rooms, setRooms] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [min, setMin] = useState(\"\");\r\n  const [max, setMax] = useState(\"\");\r\n\r\n  const token = localStorage.getItem(\"userToken\");\r\n\r\n  // LOAD ROOMS\r\n  const loadRooms = () => {\r\n    axios.get(`${API_BASE_URL}/rooms`, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    })\r\n      .then(res => setRooms(res.data))\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadRooms();\r\n  }, []);\r\n\r\n\r\n  // FILTER\r\n  const filterRooms = () => {\r\n    axios.get(`${API_BASE_URL}/filter-rooms`, {\r\n      params: {\r\n        search,\r\n        min,\r\n        max\r\n      },\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    })\r\n      .then(res => setRooms(res.data))\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n\r\n      <h2>Available Rooms</h2>\r\n      <hr />\r\n\r\n\r\n      {/* ================= FILTERS ================= */}\r\n      <div className=\"row mb-3\">\r\n\r\n        <div className=\"col-md-3\">\r\n          <input\r\n            className=\"form-control\"\r\n            placeholder=\"Search room...\"\r\n            value={search}\r\n            onChange={e => setSearch(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-md-2\">\r\n          <input\r\n            className=\"form-control\"\r\n            type=\"number\"\r\n            placeholder=\"Min Price\"\r\n            value={min}\r\n            onChange={e => setMin(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-md-2\">\r\n          <input\r\n            className=\"form-control\"\r\n            type=\"number\"\r\n            placeholder=\"Max Price\"\r\n            value={max}\r\n            onChange={e => setMax(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-md-2\">\r\n          <button className=\"btn btn-primary w-100\"\r\n            onClick={filterRooms}>\r\n            Filter\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"col-md-2\">\r\n          <button className=\"btn btn-secondary w-100\"\r\n            onClick={loadRooms}>\r\n            Reset\r\n          </button>\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n      {/* ================= ROOMS ================= */}\r\n      <div className=\"row\">\r\n\r\n        {rooms.length === 0 && (\r\n          <h4 className=\"text-center text-danger\">\r\n            No rooms found\r\n          </h4>\r\n        )}\r\n\r\n        {rooms.map(r => (\r\n          <div className=\"col-md-4 mt-3\" key={r.id}>\r\n            <div className=\"card shadow\">\r\n\r\n              {/* IMAGE */}\r\n              {r.image && (\r\n                <img\r\n                  src={`${API_BASE_URL}/uploads/${r.image}`}\r\n                  className=\"card-img-top\"\r\n                  height=\"200\"\r\n                  alt=\"room\"\r\n                />\r\n              )}\r\n\r\n              <div className=\"card-body\">\r\n\r\n                <h5>{r.name}</h5>\r\n\r\n                <p className=\"mb-1\">\r\n                  <b>Price:</b> â‚¹{r.price}\r\n                </p>\r\n\r\n                <p className=\"mb-1\">\r\n                  <b>Capacity:</b> {r.capacity} persons\r\n                </p>\r\n\r\n                <span className={`badge ${r.available ? \"bg-success\" : \"bg-danger\"}`}>\r\n                  {r.available ? \"Available\" : \"Not Available\"}\r\n                </span>\r\n\r\n                <br />\r\n\r\n                {r.available ? (\r\n                  <Link\r\n                    to={`/book/${r.id}`}\r\n                    className=\"btn btn-primary w-100 mt-2\"\r\n                  >\r\n                    Book Now\r\n                  </Link>\r\n                ) : (\r\n                  <button className=\"btn btn-secondary w-100 mt-2\" disabled>\r\n                    Not Available\r\n                  </button>\r\n                )}\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"const express = require(\"express\");\nconst cors = require(\"cors\");\nconst mysql = require(\"mysql2\");\nconst jwt = require(\"jsonwebtoken\");\nconst multer = require(\"multer\");\nconst path = require(\"path\");\nconst authAdmin = require(\"./authAdmin\");\nconst app = express();\napp.use(cors());\napp.use(express.json());\napp.use(\"/uploads\", express.static(\"uploads\"));\napp.use(\"/payments\", express.static(\"payments\"));\n\n// DB\nconst db = mysql.createConnection({\n  host: \"localhost\",\n  user: \"root\",\n  password: \"Balaji@1\",\n  database: \"hotel_db\"\n});\ndb.connect(err => {\n  if (err) console.log(\"DB Error\", err);else console.log(\"MySQL Connected\");\n});\n\n// Multer\nconst storage = multer.diskStorage({\n  destination: \"./uploads\",\n  filename: (req, file, cb) => cb(null, Date.now() + path.extname(file.originalname))\n});\nconst upload = multer({\n  storage\n});\nconst payStorage = multer.diskStorage({\n  destination: \"./payments\",\n  filename: (req, file, cb) => cb(null, Date.now() + path.extname(file.originalname))\n});\nconst uploadPayment = multer({\n  storage: payStorage\n});\n\n// TEST\napp.get(\"/\", (req, res) => res.send(\"Hotel Backend Running\"));\n\n/* ================= USER ================= */\n\n// Register\napp.post(\"/register\", (req, res) => {\n  const {\n    name,\n    email,\n    password\n  } = req.body;\n  db.query(\"SELECT * FROM users WHERE email=?\", [email], (err, result) => {\n    if (result.length > 0) return res.json({\n      message: \"email_exists\"\n    });\n    db.query(\"INSERT INTO users(name,email,password) VALUES (?,?,?)\", [name, email, password], err => {\n      if (err) return res.json({\n        message: \"error\"\n      });\n      res.json({\n        message: \"registered\"\n      });\n    });\n  });\n});\n\n// Login\napp.post(\"/login\", (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n  db.query(\"SELECT * FROM users WHERE email=? AND password=?\", [email, password], (err, result) => {\n    if (err) return res.send(err);\n    if (result.length > 0) {\n      const token = jwt.sign({\n        id: result[0].id,\n        email\n      }, \"secret123\");\n      res.json({\n        message: \"success\",\n        token,\n        userId: result[0].id,\n        name: result[0].name\n      });\n    } else res.json({\n      message: \"failed\"\n    });\n  });\n});\n\n// Rooms\napp.get(\"/rooms\", (req, res) => {\n  db.query(\"SELECT * FROM rooms WHERE available = 1\", (err, result) => {\n    if (err) res.send(err);else res.json(result);\n  });\n});\n\n// Filter Rooms\napp.get(\"/filter-rooms\", (req, res) => {\n  const {\n    category,\n    min,\n    max,\n    people,\n    available,\n    search,\n    sort\n  } = req.query;\n  let sql = \"SELECT * FROM rooms WHERE 1=1\";\n  let params = [];\n  if (category) {\n    sql += \" AND category=?\";\n    params.push(category);\n  }\n  if (min) {\n    sql += \" AND price >= ?\";\n    params.push(min);\n  }\n  if (max) {\n    sql += \" AND price <= ?\";\n    params.push(max);\n  }\n  if (people) {\n    sql += \" AND capacity >= ?\";\n    params.push(people);\n  }\n  if (!(available === \"false\" || available === false)) {\n    sql += \" AND available = 1\";\n  }\n  if (search) {\n    sql += \" AND name LIKE ?\";\n    params.push(`%${search}%`);\n  }\n  if (sort === \"low\") sql += \" ORDER BY price ASC\";\n  if (sort === \"high\") sql += \" ORDER BY price DESC\";\n  db.query(sql, params, (err, result) => {\n    if (err) res.send(err);else res.json(result);\n  });\n});\n\n/* ================ BOOKING ================ */\n// USER SEND BOOK REQUEST\napp.post(\"/book\", (req, res) => {\n  const {\n    customerName,\n    roomId,\n    checkIn,\n    checkOut,\n    userId\n  } = req.body;\n  const sql = `\n    INSERT INTO bookings\n    (customerName, roomId, checkIn, checkOut, userId, status, paymentStatus)\n    VALUES (?, ?, ?, ?, ?, 'Pending', 'Not Paid')\n  `;\n  db.query(sql, [customerName, roomId, checkIn, checkOut, userId], err => {\n    if (err) return res.status(500).json(err);\n    res.json({\n      message: \"Booking Request Sent\"\n    });\n  });\n});\n\n// Booking History\napp.get(\"/user/bookings/:userId\", (req, res) => {\n  db.query(`SELECT b.*, r.name AS roomName, r.image \n     FROM bookings b\n     JOIN rooms r ON b.roomId = r.id\n     WHERE b.userId = ?`, [req.params.userId], (err, result) => {\n    if (err) res.send(err);else res.json(result);\n  });\n});\n\n// Cancel\napp.put(\"/cancel-booking/:id\", (req, res) => {\n  const id = req.params.id;\n  db.query(\"UPDATE bookings SET status='Cancelled' WHERE id=?\", [id]);\n  db.query(`UPDATE rooms r \n     JOIN bookings b ON b.roomId = r.id\n     SET r.available = 1\n     WHERE b.id = ?`, [id]);\n  res.json({\n    message: \"Booking Cancelled & Room Released\"\n  });\n});\n\n/* ============== PAYMENT ============== */\n\napp.post(\"/payment/upload\", uploadPayment.single(\"proof\"), (req, res) => {\n  const {\n    bookingId,\n    transactionId\n  } = req.body;\n  const file = req.file ? req.file.filename : null;\n  db.query(\"UPDATE bookings SET transactionId=?, paymentProof=?, paymentStatus='Pending Verification' WHERE id=?\", [transactionId, file, bookingId], err => {\n    if (err) return res.status(500).json(err);\n    res.json({\n      message: \"Payment Submitted. Waiting for verification\"\n    });\n  });\n});\n\n/* ============== ADMIN ============== */\n\n// Login\napp.post(\"/admin/login\", (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n  db.query(\"SELECT * FROM admin WHERE username=? AND password=?\", [username, password], (err, result) => {\n    if (err) return res.send(err);\n    if (result.length > 0) {\n      const token = jwt.sign({\n        id: result[0].id,\n        username\n      }, \"secret123\");\n      res.json({\n        message: \"success\",\n        token\n      });\n    } else res.json({\n      message: \"failed\"\n    });\n  });\n});\n\n// All bookings\napp.get(\"/admin/bookings\", (req, res) => {\n  db.query(`SELECT b.*, r.name AS roomName, r.image \n     FROM bookings b\n     JOIN rooms r ON b.roomId = r.id`, (err, result) => res.json(result));\n});\n\n// Admin Rooms\napp.get(\"/admin/rooms\", authAdmin, (req, res) => {\n  db.query(\"SELECT * FROM rooms\", (err, result) => {\n    if (err) return res.status(500).json(err);\n    res.json(result);\n  });\n});\n\n// Add Room\napp.put(\"/admin/rooms/:id\", authAdmin, upload.single(\"image\"), (req, res) => {\n  const {\n    name,\n    price,\n    capacity\n  } = req.body;\n  const image = req.file ? req.file.filename : null;\n  const id = req.params.id;\n  let sql = \"UPDATE rooms SET name=?, price=?, capacity=?\";\n  let params = [name, price, capacity];\n  if (image) {\n    sql += \", image=?\";\n    params.push(image);\n  }\n  sql += \" WHERE id=?\";\n  params.push(id);\n  db.query(sql, params, err => {\n    if (err) return res.status(500).json(err);\n    res.json({\n      message: \"Room Updated\"\n    });\n  });\n});\napp.delete(\"/admin/rooms/:id\", authAdmin, (req, res) => {\n  db.query(\"DELETE FROM rooms WHERE id=?\", [req.params.id], err => {\n    if (err) return res.status(500).json(err);\n    res.json({\n      message: \"Room Deleted\"\n    });\n  });\n});\n\n// APPROVE PAYMENT (ADMIN)\napp.put(\"/admin/payment/approve/:id\", (req, res) => {\n  db.query(\"UPDATE bookings SET paymentStatus='Paid' WHERE id=?\", [req.params.id], err => {\n    if (err) return res.status(500).json(err);\n    res.json({\n      message: \"Payment Approved\"\n    });\n  });\n});\n\n// REJECT PAYMENT (ADMIN)\napp.put(\"/admin/payment/reject/:id\", (req, res) => {\n  db.query(\"UPDATE bookings SET paymentStatus='Rejected' WHERE id=?\", [req.params.id], err => {\n    if (err) return res.status(500).json(err);\n    res.json({\n      message: \"Payment Rejected\"\n    });\n  });\n});\n\n// GET ALL PAYMENT REQUESTS (ADMIN)\napp.get(\"/admin/payments\", (req, res) => {\n  db.query(`SELECT b.*, r.name AS roomName, u.name AS userName\n     FROM bookings b\n     JOIN rooms r ON b.roomId = r.id\n     JOIN users u ON b.userId = u.id\n     WHERE b.paymentStatus != 'Not Paid'`, (err, result) => {\n    if (err) return res.status(500).json(err);\n    res.json(result);\n  });\n});\napp.listen(5000, () => console.log(\"Server running on 5000\"));","map":{"version":3,"names":["express","require","cors","mysql","jwt","multer","path","authAdmin","app","use","json","static","db","createConnection","host","user","password","database","connect","err","console","log","storage","diskStorage","destination","filename","req","file","cb","Date","now","extname","originalname","upload","payStorage","uploadPayment","get","res","send","post","name","email","body","query","result","length","message","token","sign","id","userId","category","min","max","people","available","search","sort","sql","params","push","customerName","roomId","checkIn","checkOut","status","put","single","bookingId","transactionId","username","price","capacity","image","delete","listen"],"sources":["C:/Users/Balaji S/OneDrive/Desktop/Hotel Management/hotel-frontend/src/pages/AdminPayments.js"],"sourcesContent":["const express = require(\"express\");\r\nconst cors = require(\"cors\");\r\nconst mysql = require(\"mysql2\");\r\nconst jwt = require(\"jsonwebtoken\");\r\nconst multer = require(\"multer\");\r\nconst path = require(\"path\");\r\nconst authAdmin = require(\"./authAdmin\");\r\n\r\nconst app = express();\r\napp.use(cors());\r\napp.use(express.json());\r\n\r\napp.use(\"/uploads\", express.static(\"uploads\"));\r\napp.use(\"/payments\", express.static(\"payments\"));\r\n\r\n// DB\r\nconst db = mysql.createConnection({\r\n  host: \"localhost\",\r\n  user: \"root\",\r\n  password: \"Balaji@1\",\r\n  database: \"hotel_db\"\r\n});\r\n\r\ndb.connect(err => {\r\n  if (err) console.log(\"DB Error\", err);\r\n  else console.log(\"MySQL Connected\");\r\n});\r\n\r\n// Multer\r\nconst storage = multer.diskStorage({\r\n  destination: \"./uploads\",\r\n  filename: (req, file, cb) =>\r\n    cb(null, Date.now() + path.extname(file.originalname))\r\n});\r\nconst upload = multer({ storage });\r\n\r\nconst payStorage = multer.diskStorage({\r\n  destination: \"./payments\",\r\n  filename: (req, file, cb) =>\r\n    cb(null, Date.now() + path.extname(file.originalname))\r\n});\r\nconst uploadPayment = multer({ storage: payStorage });\r\n\r\n// TEST\r\napp.get(\"/\", (req, res) => res.send(\"Hotel Backend Running\"));\r\n\r\n/* ================= USER ================= */\r\n\r\n// Register\r\napp.post(\"/register\", (req, res) => {\r\n  const { name, email, password } = req.body;\r\n\r\n  db.query(\"SELECT * FROM users WHERE email=?\", [email], (err, result) => {\r\n    if (result.length > 0) return res.json({ message: \"email_exists\" });\r\n\r\n    db.query(\r\n      \"INSERT INTO users(name,email,password) VALUES (?,?,?)\",\r\n      [name, email, password],\r\n      err => {\r\n        if (err) return res.json({ message: \"error\" });\r\n        res.json({ message: \"registered\" });\r\n      }\r\n    );\r\n  });\r\n});\r\n\r\n// Login\r\napp.post(\"/login\", (req, res) => {\r\n  const { email, password } = req.body;\r\n\r\n  db.query(\r\n    \"SELECT * FROM users WHERE email=? AND password=?\",\r\n    [email, password],\r\n    (err, result) => {\r\n      if (err) return res.send(err);\r\n\r\n      if (result.length > 0) {\r\n        const token = jwt.sign(\r\n          { id: result[0].id, email },\r\n          \"secret123\"\r\n        );\r\n\r\n        res.json({\r\n          message: \"success\",\r\n          token,\r\n          userId: result[0].id,\r\n          name: result[0].name\r\n        });\r\n      } else res.json({ message: \"failed\" });\r\n    }\r\n  );\r\n});\r\n\r\n// Rooms\r\napp.get(\"/rooms\", (req, res) => {\r\n  db.query(\"SELECT * FROM rooms WHERE available = 1\", (err, result) => {\r\n    if (err) res.send(err);\r\n    else res.json(result);\r\n  });\r\n});\r\n\r\n// Filter Rooms\r\napp.get(\"/filter-rooms\", (req, res) => {\r\n  const { category, min, max, people, available, search, sort } = req.query;\r\n\r\n  let sql = \"SELECT * FROM rooms WHERE 1=1\";\r\n  let params = [];\r\n\r\n  if (category) { sql += \" AND category=?\"; params.push(category); }\r\n  if (min) { sql += \" AND price >= ?\"; params.push(min); }\r\n  if (max) { sql += \" AND price <= ?\"; params.push(max); }\r\n  if (people) { sql += \" AND capacity >= ?\"; params.push(people); }\r\n\r\n  if (!(available === \"false\" || available === false)) {\r\n    sql += \" AND available = 1\";\r\n  }\r\n\r\n  if (search) { sql += \" AND name LIKE ?\"; params.push(`%${search}%`); }\r\n\r\n  if (sort === \"low\") sql += \" ORDER BY price ASC\";\r\n  if (sort === \"high\") sql += \" ORDER BY price DESC\";\r\n\r\n  db.query(sql, params, (err, result) => {\r\n    if (err) res.send(err);\r\n    else res.json(result);\r\n  });\r\n});\r\n\r\n/* ================ BOOKING ================ */\r\n// USER SEND BOOK REQUEST\r\napp.post(\"/book\", (req, res) => {\r\n  const { customerName, roomId, checkIn, checkOut, userId } = req.body;\r\n\r\n  const sql = `\r\n    INSERT INTO bookings\r\n    (customerName, roomId, checkIn, checkOut, userId, status, paymentStatus)\r\n    VALUES (?, ?, ?, ?, ?, 'Pending', 'Not Paid')\r\n  `;\r\n\r\n  db.query(sql, [customerName, roomId, checkIn, checkOut, userId], err => {\r\n    if (err) return res.status(500).json(err);\r\n\r\n    res.json({ message: \"Booking Request Sent\" });\r\n  });\r\n});\r\n\r\n\r\n// Booking History\r\napp.get(\"/user/bookings/:userId\", (req, res) => {\r\n  db.query(\r\n    `SELECT b.*, r.name AS roomName, r.image \r\n     FROM bookings b\r\n     JOIN rooms r ON b.roomId = r.id\r\n     WHERE b.userId = ?`,\r\n    [req.params.userId],\r\n    (err, result) => {\r\n      if (err) res.send(err);\r\n      else res.json(result);\r\n    }\r\n  );\r\n});\r\n\r\n// Cancel\r\napp.put(\"/cancel-booking/:id\", (req, res) => {\r\n  const id = req.params.id;\r\n\r\n  db.query(\r\n    \"UPDATE bookings SET status='Cancelled' WHERE id=?\",\r\n    [id]\r\n  );\r\n\r\n  db.query(\r\n    `UPDATE rooms r \r\n     JOIN bookings b ON b.roomId = r.id\r\n     SET r.available = 1\r\n     WHERE b.id = ?`,\r\n    [id]\r\n  );\r\n\r\n  res.json({ message: \"Booking Cancelled & Room Released\" });\r\n});\r\n\r\n/* ============== PAYMENT ============== */\r\n\r\napp.post(\"/payment/upload\", uploadPayment.single(\"proof\"), (req, res) => {\r\n  const { bookingId, transactionId } = req.body;\r\n  const file = req.file ? req.file.filename : null;\r\n\r\n  db.query(\r\n    \"UPDATE bookings SET transactionId=?, paymentProof=?, paymentStatus='Pending Verification' WHERE id=?\",\r\n    [transactionId, file, bookingId],\r\n    err => {\r\n      if (err) return res.status(500).json(err);\r\n      res.json({ message: \"Payment Submitted. Waiting for verification\" });\r\n    }\r\n  );\r\n});\r\n\r\n/* ============== ADMIN ============== */\r\n\r\n// Login\r\napp.post(\"/admin/login\", (req, res) => {\r\n  const { username, password } = req.body;\r\n\r\n  db.query(\r\n    \"SELECT * FROM admin WHERE username=? AND password=?\",\r\n    [username, password],\r\n    (err, result) => {\r\n      if (err) return res.send(err);\r\n\r\n      if (result.length > 0) {\r\n        const token = jwt.sign(\r\n          { id: result[0].id, username },\r\n          \"secret123\"\r\n        );\r\n        res.json({ message: \"success\", token });\r\n      } else res.json({ message: \"failed\" });\r\n    }\r\n  );\r\n});\r\n\r\n// All bookings\r\napp.get(\"/admin/bookings\", (req, res) => {\r\n  db.query(\r\n    `SELECT b.*, r.name AS roomName, r.image \r\n     FROM bookings b\r\n     JOIN rooms r ON b.roomId = r.id`,\r\n    (err, result) => res.json(result)\r\n  );\r\n});\r\n\r\n// Admin Rooms\r\napp.get(\"/admin/rooms\", authAdmin, (req,res)=>{\r\n  db.query(\"SELECT * FROM rooms\", (err,result)=>{\r\n    if(err) return res.status(500).json(err);\r\n    res.json(result);\r\n  });\r\n});\r\n\r\n// Add Room\r\napp.put(\"/admin/rooms/:id\", authAdmin, upload.single(\"image\"), (req,res)=>{\r\n\r\n  const { name, price, capacity } = req.body;\r\n  const image = req.file ? req.file.filename : null;\r\n  const id = req.params.id;\r\n\r\n  let sql = \"UPDATE rooms SET name=?, price=?, capacity=?\";\r\n  let params = [name, price, capacity];\r\n\r\n  if(image){\r\n    sql += \", image=?\";\r\n    params.push(image);\r\n  }\r\n\r\n  sql += \" WHERE id=?\";\r\n  params.push(id);\r\n\r\n  db.query(sql, params,(err)=>{\r\n    if(err) return res.status(500).json(err);\r\n    res.json({message:\"Room Updated\"});\r\n  });\r\n\r\n});\r\napp.delete(\"/admin/rooms/:id\", authAdmin,(req,res)=>{\r\n  db.query(\"DELETE FROM rooms WHERE id=?\",[req.params.id],err=>{\r\n    if(err) return res.status(500).json(err);\r\n    res.json({message:\"Room Deleted\"});\r\n  });\r\n});\r\n\r\n// APPROVE PAYMENT (ADMIN)\r\napp.put(\"/admin/payment/approve/:id\", (req, res) => {\r\n  db.query(\r\n    \"UPDATE bookings SET paymentStatus='Paid' WHERE id=?\",\r\n    [req.params.id],\r\n    err => {\r\n      if (err) return res.status(500).json(err);\r\n      res.json({ message: \"Payment Approved\" });\r\n    }\r\n  );\r\n});\r\n\r\n// REJECT PAYMENT (ADMIN)\r\napp.put(\"/admin/payment/reject/:id\", (req, res) => {\r\n  db.query(\r\n    \"UPDATE bookings SET paymentStatus='Rejected' WHERE id=?\",\r\n    [req.params.id],\r\n    err => {\r\n      if (err) return res.status(500).json(err);\r\n      res.json({ message: \"Payment Rejected\" });\r\n    }\r\n  );\r\n});\r\n\r\n// GET ALL PAYMENT REQUESTS (ADMIN)\r\napp.get(\"/admin/payments\", (req, res) => {\r\n  db.query(\r\n    `SELECT b.*, r.name AS roomName, u.name AS userName\r\n     FROM bookings b\r\n     JOIN rooms r ON b.roomId = r.id\r\n     JOIN users u ON b.userId = u.id\r\n     WHERE b.paymentStatus != 'Not Paid'`,\r\n    (err, result) => {\r\n      if (err) return res.status(500).json(err);\r\n      res.json(result);\r\n    }\r\n  );\r\n});\r\n\r\napp.listen(5000, () => console.log(\"Server running on 5000\"));\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}